# =============================================================================
# KUBERNETES SECRETS - LOKAL MILJÖ (minikube/kind)
# =============================================================================
# KOPIERA TILL secrets.yaml OCH FYLL I RIKTIGA VÄRDEN.
# secrets.yaml är gitignorerad och ska ALDRIG committas.
#
# Skapa secrets med kubectl:
#   kubectl apply -f k8s/overlays/local/secrets.yaml
#
# Eller med kommandot:
#   kubectl create secret generic backend-secrets \
#     --from-env-file=.env \
#     -n besiktningsapp
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: backend-secrets
  namespace: besiktningsapp
type: Opaque
stringData:
  # Flask
  SECRET_KEY: "BYTA-DETTA-TILL-RIKTIGT-HEMLIGT-VÄRDE-MIN-32-TECKEN"
  JWT_SECRET_KEY: "BYTA-DETTA-TILL-RIKTIGT-HEMLIGT-JWT-VÄRDE"

  # PostgreSQL
  POSTGRES_HOST: "postgres"
  POSTGRES_PORT: "5432"
  POSTGRES_DB: "besiktningsapp"
  POSTGRES_USER: "besiktning"
  POSTGRES_PASSWORD: "BYTA-DETTA"
  DATABASE_URL: "postgresql://besiktning:BYTA-DETTA@postgres:5432/besiktningsapp"

  # Redis
  REDIS_PASSWORD: "BYTA-DETTA"
  # Observera: Redis URL inkluderar lösenordet
  # REDIS_URL sätts i configmap utan lösenord - använd env-interpolation
  # eller sätt hela URL:en här:
  REDIS_URL: "redis://:BYTA-DETTA@redis:6379/0"

  # MinIO / S3
  S3_ACCESS_KEY: "minioadmin"
  S3_SECRET_KEY: "BYTA-DETTA-MIN-8-TECKEN"
